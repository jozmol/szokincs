<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kínai-Magyar-Angol Szókincs Gyakorló</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            width: 100%;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            margin-top: 20px;
        }
        
        header {
            background: linear-gradient(to right, #e52d27, #b31217);
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .menu-container {
            padding: 15px 20px;
            background-color: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }
        
        .category-select {
            width: 50%;
            padding: 10px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            background-color: white;
            cursor: pointer;
            transition: border-color 0.3s;
        }
        
        .category-select:focus {
            border-color: #e52d27;
            outline: none;
        }
        
        .language-info {
            text-align: center;
            margin-top: 8px;
            font-size: 0.9rem;
            color: #666;
        }
        
        .content {
            display: flex;
            padding: 20px;
            min-height: 400px;
        }
        
        .left-panel, .right-panel {
            flex: 1;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .left-panel {
            border-right: 1px dashed #ddd;
            text-align: center;
        }
        
        .word-display {
            font-size: 3.5rem;
            margin-bottom: 20px;
            color: #333;
            font-weight: bold;
            line-height: 1.2;
        }
        
        .pinyin {
            font-size: 1.5rem;
            color: #e52d27;
            margin-bottom: 10px;
        }
        
        .hint {
            font-size: 0.9rem;
            color: #666;
            margin-top: 10px;
        }
        
        .input-container {
            margin-bottom: 20px;
        }
        
        input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1.1rem;
            transition: border-color 0.3s;
        }
        
        input:focus {
            border-color: #e52d27;
            outline: none;
        }
        
        .buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        #check-btn {
            background-color: #4CAF50;
            color: white;
        }
        
        #check-btn:hover {
            background-color: #3d8b40;
        }
        
        #speak-btn {
            background-color: #2196F3;
            color: white;
        }
        
        #speak-btn:hover {
            background-color: #0b7dda;
        }
        
        #next-btn {
            background-color: #FF9800;
            color: white;
        }
        
        #next-btn:hover {
            background-color: #e68900;
        }
        
        .feedback {
            margin-top: 20px;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            display: none;
        }
        
        .correct {
            background-color: #e8f5e9;
            color: #2e7d32;
            border: 1px solid #c8e6c9;
        }
        
        .incorrect {
            background-color: #ffebee;
            color: #c62828;
            border: 1px solid #ffcdd2;
        }
        
        .progress-container {
            width: 100%;
            background-color: #f1f1f1;
            border-radius: 5px;
            margin: 20px 0;
        }
        
        .progress-bar {
            height: 10px;
            background-color: #4CAF50;
            border-radius: 5px;
            width: 0%;
            transition: width 0.5s;
        }
        
        .stats {
            display: flex;
            justify-content: space-between;
            padding: 0 20px 20px;
            font-size: 0.9rem;
            color: #666;
        }
        
        footer {
            text-align: center;
            padding: 15px;
            color: #666;
            font-size: 0.9rem;
            border-top: 1px solid #eee;
        }
        
        .loading {
            text-align: center;
            padding: 20px;
            color: #666;
        }
        
        @media (max-width: 400px) {
            .content {
                flex-direction: column;
            }
            
            .left-panel {
                border-right: none;
                border-bottom: 1px dashed #ddd;
            }
            
            .word-display {
                font-size: 2.5rem;
            }
            
            .pinyin {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Kínai → Magyar → Angol Szókincs Gyakorló <u><strong>DEMO</u></strong></strong></u></h1>
            <div class="subtitle">Gyakorold a kínai szavakat magyar és angol megfelelőjükkel!<br>
练习中文单词及其匈牙利语和英语对应词！
<br>Practice Chinese words with Hungarian and English equivalents!</div>
        </header>
        
        <div class="menu-container"><p align="left"> Válassz kategóriát / 选择类别 / Select Category</p><br>
            <select id="category-select" class="category-select">
	        <option value="nul"></option>
                <option value="all">Összes kategória / 所有类别 / All Categories</option>
		<option value="altalanos">Általános szavak / 常用词汇 / General Words</option>
		<option value="allatok">Állatok / 动物 / Animals</option>
                <option value="csalad">Család / 家庭 / Family</option>
		<option value="utazas">Utazás / 旅行 / Travel</option>
		<option value="ruhazat">Ruházat / 服装 / Clothing</option>
                <option value="tarsalgas">Társalgás / 谈话 / Conversation</option>
		<option value="otthon">Otthon / 家 / Home</option>
                <option value="etterem">Étterem / 餐馆 / Restaurant</option>
		<option value="etelek">Ételek-italok / 食品饮料 / Food & Drinks</option>
                <option value="szemelyes_nevmasok">Személyes névmások / 人称代词 / Personal Pronouns</option>
                <option value="szamok">Számok / 数字 / Numbers</option>
		<option value="testreszek">Testrészek / 身体部位 / Body Parts</option>
                <option value="szinek">Színek-formák / 颜色形状 / Colors & Shapes</option>
            </select>
        </div>
        
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        
        <div class="content">
            <div class="left-panel">
                <div class="word-display" id="chinese-word">...</div>
                <div class="pinyin" id="pinyin">...</div>
                <div class="hint">Írd be a magyar vagy angol megfelelőjét!</div>
                <div class="hint">在右侧栏中填写匈牙利语或英语对应词！</div>
                <div class="hint">Enter the Hungarian or English equivalent in the right panel!</div>
            </div>
            
            <div class="right-panel">
                <div class="input-container">
		            <p><u><b>在这里写下匈牙利语或英语的对应词...<br>Write the Hungarian or English equivalent here...</b></u></p><br>
                    <input type="text" id="answer-input" placeholder="Írd ide a magyar vagy angol szót...">
                </div>
                
                <div class="feedback" id="feedback"></div>
                
                 <div class="buttons">
                    <button id="check-btn">[Ellenőrzés] - [检查] - [Check]</button>
                    <button id="speak-btn">[Felolvasás] - [朗读] - [Speak]</button>
                    <button id="next-btn">[Következő] - [下一个] - [Next]</button>
                </div>
            </div>
        </div>
        
        <div class="stats">
            <div>Helyes válaszok / 正确答案 / Correct Answers: <span id="correct-count">0</span></div>
            <div>Összes szó / 总字数 / Total Words: <span id="total-count">0</span></div>
        </div>
        
        <footer>
            Nyelvtani oktató - Kínai-Magyar-Angol szókincs gyakorló
            <br>语法练习者 - 中匈英词汇练习者
            <br>Grammar Trainer - Chinese-Hungarian-English Vocabulary Practice
            <br> Created by jozmol
        </footer>
    </div>

    <script>
        // Globális változók
        let wordPairs = [];
        let currentWordIndex = 0;
        let correctAnswers = 0;
        let totalAttempts = 0;
        let currentCategory = "nul";
        let filteredWordPairs = [];

        // DOM elemek
        const chineseWordElement = document.getElementById('chinese-word');
        const pinyinElement = document.getElementById('pinyin');
        const answerInputElement = document.getElementById('answer-input');
        const checkButton = document.getElementById('check-btn');
        const speakButton = document.getElementById('speak-btn');
        const nextButton = document.getElementById('next-btn');
        const feedbackElement = document.getElementById('feedback');
        const correctCountElement = document.getElementById('correct-count');
        const totalCountElement = document.getElementById('total-count');
        const progressBar = document.getElementById('progress-bar');
        const categorySelect = document.getElementById('category-select');

        // Szótár betöltése JSON fájlból
        async function loadDictionary() {
            try {
                const response = await fetch('szótár.json');
                if (!response.ok) {
                    throw new Error('Hiba a szótár betöltése során');
                }
                const data = await response.json();
                wordPairs = data.wordPairs;
                filteredWordPairs = [...wordPairs];
                init();
            } catch (error) {
                console.error('Hiba:', error);
                // Ha nem sikerül betölteni a fájlt, használjuk a beépített adatokat
                wordPairs = [
    
// Nul
    { chinese: "Válassz kategóriát", hungarian: "válassz kategóriát", pinyin: "", english: "select category", category: "nul" },

    // Utazás (25 szó)
    { chinese: "機場", hungarian: "repülőtér", pinyin: "jīchǎng", english: "airport", category: "utazas" },
    { chinese: "地圖", hungarian: "térkép", pinyin: "dìtú", english: "map", category: "utazas" },
    { chinese: "護照", hungarian: "útlevél", pinyin: "hùzhào", english: "passport", category: "utazas" },
    { chinese: "国家", hungarian: "ország", pinyin: "guójiā", english: "country", category: "utazas" },
    { chinese: "城市", hungarian: "város", pinyin: "chéngshì", english: "city", category: "utazas" },
   

    // Társalgás (20 szó)
    { chinese: "你好", hungarian: "szia", pinyin: "nǐ hǎo", english: "hello", category: "tarsalgas" },
    { chinese: "謝謝", hungarian: "köszönöm", pinyin: "xièxiè", english: "thank you", category: "tarsalgas" },
    { chinese: "對不起", hungarian: "bocsánat", pinyin: "duìbuqǐ", english: "sorry", category: "tarsalgas" },
    { chinese: "再見", hungarian: "viszlát", pinyin: "zàijiàn", english: "goodbye", category: "tarsalgas" },
   

    // Étterem (15 szó)
    { chinese: "餐館", hungarian: "étterem", pinyin: "cānguǎn", english: "restaurant", category: "etterem" },
    { chinese: "菜單", hungarian: "étlap", pinyin: "càidān", english: "menu", category: "etterem" },
    { chinese: "水", hungarian: "víz", pinyin: "shuǐ", english: "water", category: "etterem" },
    { chinese: "咖啡", hungarian: "kávé", pinyin: "kāfēi", english: "coffee", category: "etterem" },
   

// ==================== SZÁMOK (30 szó) ====================
    { chinese: "一", hungarian: "egy", pinyin: "yī", english: "one", category: "szamok" },
    { chinese: "二", hungarian: "kettő", pinyin: "èr", english: "two", category: "szamok" },
    { chinese: "三", hungarian: "három", pinyin: "sān", english: "three", category: "szamok" },
    { chinese: "四", hungarian: "négy", pinyin: "sì", english: "four", category: "szamok" },
    { chinese: "五", hungarian: "öt", pinyin: "wǔ", english: "five", category: "szamok" },
   

 // ==================== ÁLLATOK (40 szó) ====================
    { chinese: "狗", hungarian: "kutya", pinyin: "gǒu", english: "dog", category: "allatok" },
    { chinese: "猫", hungarian: "macska", pinyin: "māo", english: "cat", category: "allatok" },
    { chinese: "鸟", hungarian: "madár", pinyin: "niǎo", english: "bird", category: "allatok" },
    { chinese: "鱼", hungarian: "hal", pinyin: "yú", english: "fish", category: "allatok" },
    { chinese: "马", hungarian: "ló", pinyin: "mǎ", english: "horse", category: "allatok" },
   

    // ==================== SZEMÉLYES NÉVMÁSOK (20 szó) ====================
    { chinese: "我", hungarian: "én", pinyin: "wǒ", english: "I, me", category: "szemelyes_nevmasok" },
    { chinese: "你", hungarian: "te", pinyin: "nǐ", english: "you", category: "szemelyes_nevmasok" },
    { chinese: "他", hungarian: "ő (férfi)", pinyin: "tā", english: "he, him", category: "szemelyes_nevmasok" },
    { chinese: "她", hungarian: "ő (nő)", pinyin: "tā", english: "she, her", category: "szemelyes_nevmasok" },
    { chinese: "它", hungarian: "az", pinyin: "tā", english: "it", category: "szemelyes_nevmasok" },
   

//Étel-ital
{ chinese: "早餐", hungarian: "reggeli", pinyin: "zǎocān", english: "breakfast", category: "etelek" },
{ chinese: "午餐", hungarian: "ebéd", pinyin: "wǔcān", english: "lunch", category: "etelek" },
{ chinese: "晚餐", hungarian: "vacsora", pinyin: "wǎncān", english: "dinner", category: "etelek" },
{ chinese: "汤", hungarian: "leves", pinyin: "tāng", english: "soup", category: "etelek" },
    
// Testrészek
{ chinese: "头", hungarian: "fej", pinyin: "tóu", english: "head", category: "testreszek" },
{ chinese: "头发", hungarian: "haj", pinyin: "tóufa", english: "hair", category: "testreszek" },
{ chinese: "脸", hungarian: "arc", pinyin: "liǎn", english: "face", category: "testreszek" },
{ chinese: "眼睛", hungarian: "szem", pinyin: "yǎnjing", english: "eye", category: "testreszek" },

//Család
{ chinese: "家庭", hungarian: "család", pinyin: "jiātíng", english: "family", category: "csalad" },
{ chinese: "父亲", hungarian: "apa", pinyin: "fùqīn", english: "father", category: "csalad" },
{ chinese: "母亲", hungarian: "anya", pinyin: "mǔqīn", english: "mother", category: "csalad" },

//Ruházat
{ chinese: "衣服", hungarian: "ruha", pinyin: "yīfu", english: "clothes", category: "ruhazat" },
{ chinese: "衬衫", hungarian: "ing", pinyin: "chènshān", english: "shirt", category: "ruhazat" },
{ chinese: "T恤", hungarian: "póló", pinyin: "T xù", english: "t-shirt", category: "ruhazat" },
{ chinese: "裤子", hungarian: "nadrág", pinyin: "kùzi", english: "pants", category: "ruhazat" },

//Otthon
{ chinese: "房子", hungarian: "ház", pinyin: "fángzi", english: "house", category: "otthon" },
{ chinese: "公寓", hungarian: "lakás", pinyin: "gōngyù", english: "apartment", category: "otthon" },
{ chinese: "房间", hungarian: "szoba", pinyin: "fángjiān", english: "room", category: "otthon" },
{ chinese: "卧室", hungarian: "hálószoba", pinyin: "wòshì", english: "bedroom", category: "otthon" },
{ chinese: "客厅", hungarian: "nappali", pinyin: "kètīng", english: "living room", category: "otthon" },

//Színek-és formák
{ chinese: "颜色", hungarian: "szín", pinyin: "yánsè", english: "color", category: "szinek" },
{ chinese: "红色", hungarian: "piros", pinyin: "hóngsè", english: "red", category: "szinek" },
{ chinese: "蓝色", hungarian: "kék", pinyin: "lánsè", english: "blue", category: "szinek" },
 
  ];
// DEBUG: Ellenőrizzük a kategóriákat
console.log('🐛 DEBUG: Összes kategória a szótárban:');
const categoryCount = {};
wordPairs.forEach(word => {
    if (word.category) {
        categoryCount[word.category] = (categoryCount[word.category] || 0) + 1;
    }
});
console.log('Kategóriák és darabszámuk:', categoryCount);

// Ellenőrizzük a problémás kategóriákat
console.log('🐛 Személyes névmások:', wordPairs.filter(w => w.category === 'szemelyes_nevmasok').length, 'szó');
console.log('🐛 Számok:', wordPairs.filter(w => w.category === 'szamok').length, 'szó'); 
console.log('🐛 Állatok:', wordPairs.filter(w => w.category === 'allatok').length, 'szó');
filteredWordPairs = wordPairs.filter(word => word.category === "nul");
console.log(`✅ Beépített szótár betöltve: ${wordPairs.length} szó`);
init();
               // filteredWordPairs = [...wordPairs];
               // init();
            }
        }

        // Inicializálás
        function init() {
            displayWord();
            updateStats();
            
            // Eseménykezelők
            checkButton.addEventListener('click', checkAnswer);
            speakButton.addEventListener('click', speakWords);
            nextButton.addEventListener('click', nextWord);
            answerInputElement.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    checkAnswer();
                }
            });
            
            // Kategória változásának kezelése
            categorySelect.addEventListener('change', function() {
                currentCategory = this.value;
                filterWordsByCategory();
                currentWordIndex = 0;
                displayWord();
            });
        }

        // Szavak szűrése kategória szerint
        function filterWordsByCategory() {
            if (currentCategory === "all") {
                filteredWordPairs = wordPairs.filter(word => word.category !== "nul");
            } else if (currentCategory === "nul") {
                filteredWordPairs = wordPairs.filter(word => word.category === "nul");
            } else {
                filteredWordPairs = wordPairs.filter(word => word.category === currentCategory);
            }
            
            // Ha nincs szó a kiválasztott kategóriában
            if (filteredWordPairs.length === 0) {
                filteredWordPairs = [{ 
                    chinese: "Nincs szó ebben a kategóriában", 
                    hungarian: "No words in this category", 
                    english: "No words in this category",
                    pinyin: "N/A" 
                }];
            }
            
            // Visszaállítjuk az indexet
            currentWordIndex = 0;
        }

        // Szó megjelenítése
        function displayWord() {
            if (filteredWordPairs.length === 0) return;
            
            const currentWord = filteredWordPairs[currentWordIndex];
            chineseWordElement.textContent = currentWord.chinese;
            pinyinElement.textContent = currentWord.pinyin;
            answerInputElement.value = '';
            feedbackElement.style.display = 'none';
            answerInputElement.focus();
            
            // Frissíti a folyamatjelzőt
            const progress = ((currentWordIndex) / filteredWordPairs.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // Válasz ellenőrzése - elfogadja a magyar és angol választ is
        function checkAnswer() {
            if (filteredWordPairs.length === 0 || filteredWordPairs[currentWordIndex].category === "nul") return;
            
            const userAnswer = answerInputElement.value.trim().toLowerCase();
            const correctHungarian = filteredWordPairs[currentWordIndex].hungarian.toLowerCase();
            const correctEnglish = filteredWordPairs[currentWordIndex].english ? filteredWordPairs[currentWordIndex].english.toLowerCase() : "";
            
            feedbackElement.style.display = 'block';
            totalAttempts++;
            
            if (userAnswer === correctHungarian || userAnswer === correctEnglish) {
                feedbackElement.textContent = 'Helyes! ✓ [正确的！✓] [Correct! ✓]';
                feedbackElement.className = 'feedback correct';
                correctAnswers++;
            } else {
                let correctAnswerText = `Helytelen. [错误的。] [Incorrect.] A helyes válasz: ${filteredWordPairs[currentWordIndex].hungarian}`;
                if (filteredWordPairs[currentWordIndex].english) {
                    correctAnswerText += ` / ${filteredWordPairs[currentWordIndex].english}`;
                }
                feedbackElement.textContent = correctAnswerText;
                feedbackElement.className = 'feedback incorrect';
            }
            
            updateStats();
        }

        // Szavak felolvastatása
        function speakWords() {
            if (filteredWordPairs.length === 0 || filteredWordPairs[currentWordIndex].category === "nul") return;
            
            const currentWord = filteredWordPairs[currentWordIndex];
            
            // Felolvassa a kínai szót
            const chineseSpeech = new SpeechSynthesisUtterance(currentWord.chinese);
            chineseSpeech.lang = 'zh-CN';
            window.speechSynthesis.speak(chineseSpeech);
            
            // Felolvassa a magyar szót
            setTimeout(() => {
                const hungarianSpeech = new SpeechSynthesisUtterance(currentWord.hungarian);
                hungarianSpeech.lang = 'hu-HU';
                window.speechSynthesis.speak(hungarianSpeech);
            }, 800);
            
            // Felolvassa az angol szót
            setTimeout(() => {
                if (currentWord.english) {
                    const englishSpeech = new SpeechSynthesisUtterance(currentWord.english);
                    englishSpeech.lang = 'en-US';
                    window.speechSynthesis.speak(englishSpeech);
                }
            }, 1800);
        }

        // Következő szó
        function nextWord() {
            if (filteredWordPairs.length === 0) return;
            
            currentWordIndex = (currentWordIndex + 1) % filteredWordPairs.length;
            displayWord();
        }

        // Statisztikák frissítése
        function updateStats() {
            correctCountElement.textContent = correctAnswers;
            totalCountElement.textContent = totalAttempts;
        }

        // Alkalmazás indítása - szótár betöltése
        document.addEventListener('DOMContentLoaded', loadDictionary);
    </script>
</body>

</html>

